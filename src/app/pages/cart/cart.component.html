<section class="p-8 m-10 bg-gray-300 rounded-md">
    <h2 class="mb-4 text-2xl">
        Your Cart
    </h2>
    <p class="text-green-600 mb-4">Total Cart Price 
        @if (cartData.products.length > 0) {
            {{cartData.totalCartPrice | currency: "EGP" }}
        } 
        @else {
            <span>0</span>
        }

    </p>

    @for (product of cartData.products; track $index) {
        <div class="flex">
            <div class="img w-[10%]">
                <img [src]="product.product.imageCover" alt="">
            </div>
            <div class="flex px-5 w-full justify-between">
                <div class="data">  
                    <h3 class="text-xl mb-3">{{product.product.title}}</h3>
                    <p class="mb-2">{{product.price}}</p>
                    
                    <button (click)="removeItem(product.product.id)" class="text-red-500 remove">
                        <i class="fa fa-trash"></i>
                        remove
                    </button>

                </div>
                <div class="buttons flex items-center space-x-4">
                    <button (click)="updateQuantity(product.product.id, product.count + 1)" class="text-3xl border border-solid px-2 py-1 rounded bg-green-500 text-white hover:bg-green-600">+</button>
                    <span class="text-xl px-4">{{product.count}}</span>
                    <button (click)="updateQuantity(product.product.id, product.count - 1)" class="text-3xl border border-solid px-2 py-1 rounded bg-red-500 text-white hover:bg-red-600">-</button>
                </div>
            </div>
        </div>

        @if (!$last) {
            <div class="divider bg-gray-600 h-px w-full my-2">

            </div>
        }
    }

    <div class="btns mt-7 flex justify-between">
         <button (click)="clearCart()" class="bg-red-500 text-white block rounded-md px-6 py-2 hover:bg-red-700">Clear Cart</button>
         <button class="main-btn" [routerLink]="['/check-out', cartId]">Checkout</button>
    </div>



</section>